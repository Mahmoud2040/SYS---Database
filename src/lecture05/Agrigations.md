# [Video URL](https://youtu.be/6hcB6wvc8Hw)

| seq_no | Question                                                 | Hint for solution                  | Solution                                                                                                                                                                                                      |
| ------ |----------------------------------------------------------| ---------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1      | Count total number of books                              | Use COUNT on book table            | `sql SELECT COUNT(*) AS total_books FROM book; `                                                                                                                                                              |
| 2      | Count how many loans exist                               | Count rows in loans                | `sql SELECT COUNT(*) AS total_loans FROM loans; `                                                                                                                                                             |
| 3      | Find earliest and latest loan date                       | Use MIN & MAX on loan_date         | `sql SELECT MIN(loan_date) AS earliest_loan, MAX(loan_date) AS latest_loan FROM loans; `                                                                                                                      |
| 4      | Find minimum and maximum membership period               | Use MIN & MAX on membership_period | `sql SELECT MIN(membership_period) AS min_period, MAX(membership_period) AS max_period FROM member; `                                                                                                         |
| 5      | Count how many loans each member made                    | JOIN + GROUP BY member             | `sql SELECT m.name, COUNT(l.id) AS total_loans FROM member m JOIN loans l ON m.id = l.member_id GROUP BY m.name; `                                                                                            |
| 6      | Count how many times each book was borrowed              | JOIN book + loans + GROUP BY book  | `sql SELECT b.title, COUNT(l.id) AS borrow_count FROM book b JOIN loans l ON b.id = l.book_id GROUP BY b.title; `                                                                                             |
| 7      | Find average membership period                           | Use AVG                            | `sql SELECT AVG(membership_period) AS avg_membership_period FROM member; `                                                                                                                                    |
| 8      | Show members who borrowed more than 1 book               | HAVING with COUNT                  | `sql SELECT m.name, COUNT(l.id) AS total_loans FROM member m JOIN loans l ON m.id = l.member_id GROUP BY m.name HAVING COUNT(l.id) > 1; `                                                                     |
| 9      | Show books borrowed by more than one member              | COUNT DISTINCT member_id           | `sql SELECT b.title, COUNT(DISTINCT l.member_id) AS members_count FROM book b JOIN loans l ON b.id = l.book_id GROUP BY b.title HAVING COUNT(DISTINCT l.member_id) > 1; `                                     |
| 10     | Find members with number of overdue loans                | WHERE before GROUP, HAVING after   | `sql SELECT m.name, COUNT(l.id) AS overdue_count FROM member m JOIN loans l ON m.id = l.member_id WHERE l.status = 'overdue' GROUP BY m.name HAVING COUNT(l.id) >= 1; `                                       |
| 11     | Members who borrowed in 2025 and more than once          | WHERE year filter + HAVING count   | `sql SELECT m.name, COUNT(l.id) AS total_loans_2025 FROM member m JOIN loans l ON m.id = l.member_id WHERE YEAR(l.loan_date) = 2025 GROUP BY m.name HAVING COUNT(l.id) > 1; `                                 |
| 12     | Books borrowed more than twice AND have copies available | WHERE before GROUP, HAVING after   | `sql SELECT b.title, COUNT(l.id) AS borrow_count, b.copies_available FROM book b JOIN loans l ON b.id = l.book_id WHERE b.copies_available > 0 GROUP BY b.title, b.copies_available HAVING COUNT(l.id) > 2; ` |
